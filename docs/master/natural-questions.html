<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="main.css" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="main.js"></script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex,nofollow" />
<title>Natural Questions - ir_datasets</title>
<body>
<div class="page">

<div class="banner">This documentation is for <strong>master</strong>. See <a href="../natural-questions.html">here</a> for documentation of the current latest version on pypi.</div>

<div style="position: absolute; top: 4px; left: 4px;"><a href="index.html">&larr; home</a></div>

<div style="position: absolute; top: 4px; right: 4px;">Github: <a href="https://github.com/allenai/ir_datasets/blob/master/ir_datasets/datasets/natural_questions.py">datasets/natural_questions.py</a></div>
<h1><code>ir_datasets</code>: Natural Questions</h1>
<div style="font-weight: bold; font-size: 1.1em;">Index</div>
<ol class="index">
<li><a href="#natural-questions"><kbd>natural-questions</kbd></a></li>
<li><a href="#natural-questions/dev"><kbd><span class="prefix">natural-questions</span>/dev</kbd></a></li>
<li><a href="#natural-questions/train"><kbd><span class="prefix">natural-questions</span>/train</kbd></a></li>
</ol>
<div id="Downloads">
</div>
<hr />
<div class="dataset" id="natural-questions">
<h3><kbd class="select"><span class="str">"natural-questions"</kdb></h3>

<div class="desc">
 <p> Google Natural Questions is a Q&amp;A dataset containing long, short, and Yes/No answers from Wikipedia. <kbd>ir_datasets</kbd> frames this around an ad-hoc ranking setting by building a collection of all long answer candidate passages. However, short and Yes/No annotations are also available in the <kbd>qrels</kbd>, as are the passages presented to the annotators (via <kbd>scoreddocs</kbd>). Importantly, the document collection does not consist of all Wikipedia passages, but instead a union of the candidate passages presented to the annotators (akin to MS MARCO). </p> <ul> <li><a href="https://ai.google.com/research/NaturalQuestions">Dataset website</p></li> <li><a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/1f7b46b5378d757553d3e92ead36bda2e4254244.pdf">Dataset paper</p></li> </ul> 
</div>
<div class="tabs">
<a class="tab" target="natural-questions__docs">docs</a>
<div id="natural-questions__docs" class="tab-content">
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">NqPassageDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">html</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">start_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="4"><span class="">end_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="5"><span class="">start_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="6"><span class="">end_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="7"><span class="">document_title</span>: <span class="kwd">str</span></li><li data-tuple-idx="8"><span class="">document_url</span>: <span class="kwd">str</span></li><li data-tuple-idx="9"><span class="">parent_doc_id</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions')</div>
<div><span class="kwd">for</span> doc <span class="kwd">in</span> dataset.docs_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;doc <span class="comment"># namedtuple&lt;doc_id, text, html, start_byte, end_byte, start_token, end_token, document_title, document_url, parent_doc_id&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions__citation">Citation</a>
<div id="natural-questions__citation" class="tab-content">
bibtex:
<cite class="select">@article{Kwiatkowski2019NQ,
  title = {Natural Questions: a Benchmark for Question Answering Research},
  author = {Tom Kwiatkowski and Jennimaria Palomaki and Olivia Redfield and Michael Collins and Ankur Parikh and Chris Alberti and Danielle Epstein and Illia Polosukhin and Matthew Kelcey and Jacob Devlin and Kenton Lee and Kristina N. Toutanova and Llion Jones and Ming-Wei Chang and Andrew Dai and Jakob Uszkoreit and Quoc Le and Slav Petrov},
  year = {2019},
  journal = {TACL}
}
</cite>
</div>
</div>
</div>

<hr />
<div class="dataset" id="natural-questions/dev" data-parent="natural-questions">
<h3><kbd class="ds-name select"><span class="str">"natural-questions/dev"</kdb></h3>

<div class="desc">
 <p> Official dev set. </p> 
</div>
<div class="tabs">
<a class="tab" target="natural-questions/dev__queries">queries</a>
<div id="natural-questions/dev__queries" class="tab-content">
<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/dev')</div>
<div><span class="kwd">for</span> query <span class="kwd">in</span> dataset.queries_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;query <span class="comment"># namedtuple&lt;query_id, text&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/dev__docs">docs</a>
<div id="natural-questions/dev__docs" class="tab-content">
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">NqPassageDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">html</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">start_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="4"><span class="">end_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="5"><span class="">start_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="6"><span class="">end_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="7"><span class="">document_title</span>: <span class="kwd">str</span></li><li data-tuple-idx="8"><span class="">document_url</span>: <span class="kwd">str</span></li><li data-tuple-idx="9"><span class="">parent_doc_id</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/dev')</div>
<div><span class="kwd">for</span> doc <span class="kwd">in</span> dataset.docs_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;doc <span class="comment"># namedtuple&lt;doc_id, text, html, start_byte, end_byte, start_token, end_token, document_title, document_url, parent_doc_id&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/dev__qrels">qrels</a>
<div id="natural-questions/dev__qrels" class="tab-content">
<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">NqQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">short_answers</span>: <span class="kwd">List</span>[<span class="kwd">str</span>]</li><li data-tuple-idx="4"><span class="">yes_no_answer</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th></tr>
<tr><td class="relScore">1</td><td>passage marked by annotator as a "long" answer to the question</td></tr>
</table>

<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/dev')</div>
<div><span class="kwd">for</span> qrel <span class="kwd">in</span> dataset.qrels_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;qrel <span class="comment"># namedtuple&lt;query_id, doc_id, relevance, short_answers, yes_no_answer&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/dev__scoreddocs">scoreddocs</a>
<div id="natural-questions/dev__scoreddocs" class="tab-content">
<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/dev')</div>
<div><span class="kwd">for</span> scoreddoc <span class="kwd">in</span> dataset.scoreddocs_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;scoreddoc <span class="comment"># namedtuple&lt;query_id, doc_id, score&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/dev__citation">Citation</a>
<div id="natural-questions/dev__citation" class="tab-content">
bibtex:
<cite class="select">@article{Kwiatkowski2019NQ,
  title = {Natural Questions: a Benchmark for Question Answering Research},
  author = {Tom Kwiatkowski and Jennimaria Palomaki and Olivia Redfield and Michael Collins and Ankur Parikh and Chris Alberti and Danielle Epstein and Illia Polosukhin and Matthew Kelcey and Jacob Devlin and Kenton Lee and Kristina N. Toutanova and Llion Jones and Ming-Wei Chang and Andrew Dai and Jakob Uszkoreit and Quoc Le and Slav Petrov},
  year = {2019},
  journal = {TACL}
}
</cite>
</div>
</div>
</div>

<hr />
<div class="dataset" id="natural-questions/train" data-parent="natural-questions">
<h3><kbd class="ds-name select"><span class="str">"natural-questions/train"</kdb></h3>

<div class="desc">
 <p> Official train set. </p> 
</div>
<div class="tabs">
<a class="tab" target="natural-questions/train__queries">queries</a>
<div id="natural-questions/train__queries" class="tab-content">
<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/train')</div>
<div><span class="kwd">for</span> query <span class="kwd">in</span> dataset.queries_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;query <span class="comment"># namedtuple&lt;query_id, text&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/train__docs">docs</a>
<div id="natural-questions/train__docs" class="tab-content">
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">NqPassageDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">html</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">start_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="4"><span class="">end_byte</span>: <span class="kwd">int</span></li><li data-tuple-idx="5"><span class="">start_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="6"><span class="">end_token</span>: <span class="kwd">int</span></li><li data-tuple-idx="7"><span class="">document_title</span>: <span class="kwd">str</span></li><li data-tuple-idx="8"><span class="">document_url</span>: <span class="kwd">str</span></li><li data-tuple-idx="9"><span class="">parent_doc_id</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/train')</div>
<div><span class="kwd">for</span> doc <span class="kwd">in</span> dataset.docs_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;doc <span class="comment"># namedtuple&lt;doc_id, text, html, start_byte, end_byte, start_token, end_token, document_title, document_url, parent_doc_id&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/train__qrels">qrels</a>
<div id="natural-questions/train__qrels" class="tab-content">
<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">NqQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">short_answers</span>: <span class="kwd">List</span>[<span class="kwd">str</span>]</li><li data-tuple-idx="4"><span class="">yes_no_answer</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th></tr>
<tr><td class="relScore">1</td><td>passage marked by annotator as a "long" answer to the question</td></tr>
</table>

<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/train')</div>
<div><span class="kwd">for</span> qrel <span class="kwd">in</span> dataset.qrels_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;qrel <span class="comment"># namedtuple&lt;query_id, doc_id, relevance, short_answers, yes_no_answer&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/train__scoreddocs">scoreddocs</a>
<div id="natural-questions/train__scoreddocs" class="tab-content">
<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Example</p>
<code class="example">
<div><span class="kwd">import</span> ir_datasets</div>
<div>dataset = ir_datasets.load(<span class="str">'natural-questions/train')</div>
<div><span class="kwd">for</span> scoreddoc <span class="kwd">in</span> dataset.scoreddocs_iter():</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;scoreddoc <span class="comment"># namedtuple&lt;query_id, doc_id, score&gt;</span></div>
</code>
</div>

<a class="tab" target="natural-questions/train__citation">Citation</a>
<div id="natural-questions/train__citation" class="tab-content">
bibtex:
<cite class="select">@article{Kwiatkowski2019NQ,
  title = {Natural Questions: a Benchmark for Question Answering Research},
  author = {Tom Kwiatkowski and Jennimaria Palomaki and Olivia Redfield and Michael Collins and Ankur Parikh and Chris Alberti and Danielle Epstein and Illia Polosukhin and Matthew Kelcey and Jacob Devlin and Kenton Lee and Kristina N. Toutanova and Llion Jones and Ming-Wei Chang and Andrew Dai and Jakob Uszkoreit and Quoc Le and Slav Petrov},
  year = {2019},
  journal = {TACL}
}
</cite>
</div>
</div>
</div>

<script type="text/javascript">
$(function () {
    $.ajax({
        'url': 'https://smac.pub/irdsdlc?ds=natural-questions'
    }).done(function (data) {
        $('#Downloads').append(generateDownloads('Downloadable content', data));
    });
});
</script>

</div>
</body>
</html>
